âœ… What is a Singleton Class in Java?
A singleton class in Java is a class that allows only one instance to be created during the entire lifetime of the application.

ğŸ“Œ Why Use Singleton?
To share global access to one object (e.g. database connection, config loader, logger)

To conserve memory

To ensure consistency (same state across usage)

ğŸ›  How to Implement a Singleton Class
There are multiple ways. Here are the most common and recommended ones:

ğŸ”¹ 1. Eager Initialization (Thread-safe)

public class Singleton {
    private static final Singleton instance = new Singleton();

    private Singleton() {}  // private constructor

    public static Singleton getInstance() {
        return instance;
    }
}
âœ… Pros: Simple and thread-safe
âŒ Cons: Instance is created even if not used (wastes memory)

ğŸ”¹ 2. Lazy Initialization (Not thread-safe)

public class Singleton {
    private static Singleton instance;

    private Singleton() {}

    public static Singleton getInstance() {
        if (instance == null) {
            instance = new Singleton();
        }
        return instance;
    }
}
âœ… Pros: Instance created only when needed
âŒ Cons: Not thread-safe in multi-threaded apps

ğŸ”¹ 3. Thread-Safe Singleton (Synchronized)

public class Singleton {
    private static Singleton instance;

    private Singleton() {}

    public static synchronized Singleton getInstance() {
        if (instance == null) {
            instance = new Singleton();
        }
        return instance;
    }
}
âœ… Pros: Thread-safe
âŒ Cons: Synchronization is expensive (performance hit)

ğŸ”¹ 4. Bill Pugh Singleton (Best Practice)

public class Singleton {

    private Singleton() {}

    private static class Holder {
        private static final Singleton INSTANCE = new Singleton();
    }

    public static Singleton getInstance() {
        return Holder.INSTANCE;
    }
}
âœ… Pros:

Thread-safe

Lazy initialization

No performance hit

ğŸ§ª Example Use:

Singleton s1 = Singleton.getInstance();
Singleton s2 = Singleton.getInstance();

System.out.println(s1 == s2); // true



âœ… Why Enum Singleton?
Thread-safe by design

Serialization-safe (prevents creating new instances during deserialization)

Reflection-safe (prevents reflection attacks that can break other singleton implementations)

ğŸ”§ Enum Singleton Example:

public enum Singleton {
    INSTANCE;

    public void showMessage() {
        System.out.println("Hello from Singleton!");
    }
}
âœ… Usage:

public class Main {
    public static void main(String[] args) {
        Singleton singleton = Singleton.INSTANCE;
        singleton.showMessage();
    }
}
ğŸ§  Behind the Scenes:
Java ensures only one instance of the enum is ever created.

This makes it bulletproof against:

Multiple threads

Serialization/deserialization

Reflection






âœ… Summary
| Method        | Thread-Safe | Lazy | Recommended     |
| ------------- | ----------- | ---- | --------------- |
| Eager Init    | âœ…           | âŒ    | For simple apps |
| Lazy Init     | âŒ           | âœ…    | âŒ Not safe      |
| Synchronized  | âœ…           | âœ…    | âš ï¸ Slow         |
| **Bill Pugh** | âœ…           | âœ…    | âœ… Best Choice   |


